---
id: usage
title: Usage
description: 'Introduction > Usage: Code example with a basic store'
---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

## Description

The `cervello` function allows you to create a new store in an easy way.
Just set the initial value _`(the type will be inferred based on this value)`_ and you have it

## Example

<Tabs groupId="code-language">
  <TabItem value="tsx" label="TypeScript">

    // store-example.ts

    import { cervello } from '@cervello/react'

    type Store = { count: number }

    export const {
      store,       // object with reactive changes
      useStore,    // Hook to be used in the components
      reset,       // Function to reset the store 
    } = cervello<Store>({ count: 0 })

  </TabItem>
  <TabItem value="jsx" label="JavaScript">

    // store-example.ts

    import { cervello } from '@cervello/react'



    export const {
      store,       // object with reactive changes
      useStore,    // Hook to be used in the components
      reset,       // Function to reset the store 
    } = cervello({ count: 0 })

  </TabItem>
</Tabs>

## Options _(optional)_

| Name                    | Type                               |Description         |
|---                      |---                                 |---                 |
| `afterChange`           | `(storeChange) => void`  |  For side side-effects. Execute a function after a change in the store. It receives the storeChange object with the information about the change. |

## Example with options

<Tabs groupId="code-language">
  <TabItem value="tsx" label="TypeScript">

    // store-example.ts

    import { cervello } from '@cervello/react'
    import type { CervelloOptions } from '@cervello/react'


    export const {
      store,
      useStore
    } = cervello(
      { fullName: '', email: '' },

      {
        // Execute a function after a change in the store (side-effects)
        afterChange: (storeChange) => {
          onSubmit: async (data) => { console.log('[SUBMIT] > data ', { data }) },
        }
      } satisfies CervelloOptions<Store>,
    )

  </TabItem>
  <TabItem value="jsx" label="JavaScript">

    // store-example.ts

    import { cervello } from '@cervello/react'



    export const {
      store,
      useStore
    } = cervello(
      { fullName: '', email: '' },

      {
        // Execute a function after a change in the store (side-effects)
        afterChange: (storeChange) => {
          console.log('storeChange', storeChange)
        }
      },
    )

  </TabItem>
</Tabs>
